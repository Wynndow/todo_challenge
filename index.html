<!doctype html>
<html lang="en" ng-app="ToDoList" >
  <head>
    <title>To Do List</title>
    <link rel="stylesheet" href="public/css/application.css">
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-mocks/angular-mocks.js"></script>
    <script src="js/app.js"></script>
    <script src="js/toDoListController.js"></script>

  </head>

  <body ng-controller="ToDoListController as toDoCtrl">

    <section>
      <p class="numberOfThings">{{toDoCtrl.taskCount()}} things to do...</p>
    </section>

    <section>
      <form ng-submit="toDoCtrl.addTask()">
        <input type="text" name="input" ng-model="toDoCtrl.newTask" required>
        <button class="button" type="submit">Add</button>
      </form>
    </section>

    <section>
      <div ng-click="state = {done: false}" id="activeFilter">Active</div> |
      <div ng-click="state = {done: true}" id="completedFilter">Completed</div> |
      <div ng-click="state = nil" id="allFilter">All</div>
    </section>

    <section>

      <ul>

        <li ng-repeat="task in toDoCtrl.taskList | filter:state" >
          <section ng-hide="task.inEdit">
            <span ng-click="toDoCtrl.toggleEdit(task)" class="completed-{{task.done}}">
              {{task.text}}
            </span>
            <button ng-click="toDoCtrl.toggleDone(task)">
              Done?
            </button>
          </section>
          <form ng-show="task.inEdit" ng-submit="toDoCtrl.toggleEdit(task)">
            <input type="text" name="input" ng-model="task.text" required>
            <button class="button" type="submit">Save</button>
          </form>
        </li>
      </ul>
    </section>


  </body>

</html>
